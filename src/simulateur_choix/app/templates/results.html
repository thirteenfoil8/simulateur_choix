{% extends "layout.html" %}
{% block head %}
  {{ super() }}
{% endblock %}

{% block content %}
<style>
    .inner {
        display: flex;
        justify-content: center; /* Centrage horizontal */
        align-items: center; /* Centrage vertical */
        height: 100%; /* Pour occuper toute la hauteur disponible, ajustez selon vos besoins */
    }

    .table-responsive {
        width: auto; /* Assurez-vous qu'il n'y a pas de largeur fixe, afin que le tableau soit bien centré */
    }
</style>
<div class="wizard-heading">Calculateur de trajet</div>
<div class="wizard-v6-content">
    <div class="wizard-form">
        <form class="form-register" id="form-register">
            <div id="form-total">
                <h2>
                    <p class="step-icon"><span>1</span></p>
                    <span class="step-text">Résultat</span>
                </h2>
                <section>
                    <div class="inner">
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th colspan="2">
                                            <div class="form-heading">
                                                <h3>Résultats pour {{ first_name }} {{ last_name }}</h3>
                                            </div>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="space-row">
                                        <th>Distance parcourue pendant une carrière:</th>
                                        <td>{{ total_distance }} km</td>
                                    </tr>
                                    <tr class="space-row">
                                        <th>Temps passé à conduire pendant une carrière:</th>
                                        <td>{{ total_time }} heures</td>
                                    </tr>
                                    <tr class="space-row">
                                        <th>Prix de l'essence pendant une carrière:</th>
                                        <td>{{ total_fuel_cost }} CHF</td>
                                    </tr>
                                    <tr class="space-row">
                                        <th>Émissions de CO2 pendant une carrière:</th>
                                        <td>{{ total_emissions }} kg</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
                <h2>
                    <p class="step-icon"><span>2</span></p>
                    <span class="step-text">Graphique</span>
                </h2>
                <section>
                    <div class="inner">
                        <div class="form-heading">
                            <h3 id="circumference-info">Équivaut à {{ num_earth_rounds }} tours de la Terre!</h3>
                        </div>
                    </div>
                    <div class="inner">
                        <div class="earth-animation">
                            <div id="earth"></div>
                        </div>
                    </div>

                    <div class="inner">
                        <div class="form-heading">
                            <h3 id="series-info">Équivaut à {{numEarthRounds}} tours de la Terre!</h3>
                        </div>
                    </div>
                    <div class="inner">
                        <div id="dali-mask-container">
                            <!-- Les masques seront ajoutés ici via JavaScript -->
                        </div>
                    </div>
                </section>
            </div>
        </form>
    </div>
</div>
<div id="dataContainer" 
     data-total-distance="{{ total_distance }}"
     data-total-time="{{ total_time }}"
     data-total-fuel-cost="{{ total_fuel_cost }}"
     data-total-emissions="{{ total_emissions }}">
</div>
<script src="{{ url_for('static', filename='js/result.js') }}"></script>
<style>
    #earth {
        width: 100px;
        height: 100px;
        background: url("{{ url_for('static', filename='images/terre.png') }}") no-repeat center;
        background-size: cover;
        border-radius: 50%;
    }
    #dali-mask-container {
    display: flex;
    flex-wrap: wrap;
    }

    .dali-mask {
        margin: 10px;
        width: 20px;
        height: 30px;
        background-image: url("{{ url_for('static', filename='images/dali.png') }}");
        background-size: cover;
    }
</style>

{% endblock %}